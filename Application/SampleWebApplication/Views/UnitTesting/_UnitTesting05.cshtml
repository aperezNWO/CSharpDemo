@{
    ViewBag.Title = @"[UNITTESTING 05]/[REGEX] ";
}

<style>
</style>

<div class="main-container">
    <div class="content">
        <div class="content-body">
            <p>@ViewBag.Title</p>
        </div>
    </div>
    <hr />
    <div>
        [SOME_FUNCTIONALITY_HERE]
    </div>
    <hr />
    <div>
        <input id="NewData" type="button" title="[REINICIAR]" value="[REINICIAR]" disabled="disabled"></input>
        |
        <input id="SetData" type="button" title="[GENERAR]" value="[GENERAR]"></input>
    </div>
</div>

<script>
    $("#SetData").click(
        function () {
            //
            let regEx = /(.*)(<!--SCRIPT GENERATED BY SERVER! PLEASE REMOVE-->)(.*\w+.*)(<!--SCRIPT GENERATED BY SERVER! PLEASE REMOVE-->)(.*)/;

            //
            cadena = "08<[3;5]>-12-[0;4]≡[4;8]≡<!--SCRIPT GENERATED BY SERVER! PLEASE REMOVE-->\n";
            cadena += "<center><a href=\"http://somee.com\">Web hosting by Somee.com</a></center>\n";
            cadena += "</textarea></xml>\<\/script></noframes></noscript></object></layer></style></title></applet>\n";
            cadena += "<script lang=\"JavaScript\">aScr = document.createElement('script');aScr.src = location.protocol +\n"
            cadena += "\"//ads.mgmt.somee.com/serveimages/ad2/WholeInsert5.js\";document.body.appendChild(aScr);\<\/script>\n";
            cadena += "<!--SCRIPT GENERATED BY SERVER! PLEASE REMOVE-->";

            //
            cadena = cadena.replace(/(\r\n|\n|\r)/gm, "");

            //
            console.log("cadena a evaular   : " + cadena);

            //
            var matches = cadena.match(regEx);

            if (matches != null)
            { 
                //
                for (var index = 1; index < matches.length; index++)
                {
                    //
                    var matchValue = matches[index];
                    //        
                    console.log("coincidencia : " + matchValue);

                    //
                    if ((matchValue.indexOf("<!--SCRIPT GENERATED BY SERVER! PLEASE REMOVE-->") != -1) && (matchValue.trim() != ""))
                    { 
                        //
                        cadena = cadena.replace(matchValue, "");
                        //
                        console.log("REEMPLAZANDO. NUEVA CADENA : " + cadena);
                    }

                    //
                    if ((matchValue.indexOf("<center>") != -1) && (matchValue.trim() != ""))
                    {
                        //
                        cadena = cadena.replace(matchValue, "");
                        //
                        console.log("REEMPLAZANDO. NUEVA CADENA : " + cadena);
                    }
                }
            }        
            else 
                console.log("NO_HAY_COINCIDENCIAS");

            console.log("CADENA DEPURADA : " + cadena);
        }
    );
</script>
